### Nutrition Telegram Bot (ru)

Бот помогает отслеживать питание по фото: распознаёт блюдо, оценивает порцию и калорийность, хранит дневную норму и подсчитывает остаток калорий.

#### Возможности
- Установка целевой калорийности в день
- Приём фото, анализ через OpenAI Vision (gpt-4o-mini по умолчанию)
- Хранение дневного потребления в SQLite
- Команды: `/start`, `/setcalories <ккал>`, `/settz <TZID>`, `/status`

#### Альтернативы API распознавания
- OpenAI GPT-4o/4o-mini (в коде по умолчанию)
- Google Gemini 1.5 Flash/Pro Vision
- Anthropic Claude 3.5 Sonnet Vision
- DeepSeek-VL (через их API)

Структура кода предусматривает выделение провайдера, можно добавить новый провайдер по аналогии с `app/vision_providers/openai_provider.py`.

#### Установка
1) Python 3.11+
2) Установить зависимости:

```bash
pip install -r requirements.txt
```

3) Создайте файл `.env` в корне и задайте переменные:

```bash
TELEGRAM_BOT_TOKEN=...  # токен бота
OPENAI_API_KEY=...      # ключ OpenAI
OPENAI_VISION_MODEL=gpt-4o-mini  # опционально
DEFAULT_TIMEZONE=Europe/Moscow   # опционально
```

4) Запуск бота:

```bash
python -m app.bot
```

#### Использование
- Отправьте `/start` в чате с ботом, затем `/setcalories 2000` (пример)
- Отправляйте фото еды — бот ответит оформленным сообщением и посчитает остаток калорий на сегодня

#### Хранилище
- SQLite база `nutrition.db` создаётся автоматически в корне проекта

#### Примечания по приватности
- Изображение отправляется во внешний API распознавания (OpenAI). Для локальной приватной альтернативы используйте собственный провайдер/хостинг модели. 